@model YAB.Models.Accounts

@{
    ViewData["Title"] = Model.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>View Account</h1>

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6">
            <div>
                <h4>@ViewData["Title"]</h4>
                <hr />
            </div>
            <div>
                <dl class="row">
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Name)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Name)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Balance)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Balance)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Type)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Type.Name)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Business)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Business)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Interest)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Interest.Name)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Created)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Created)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.LastUpdated)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.LastUpdated)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Active)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Active)
                    </dd>
                    @if (Model.DebtAccounts.Count() > 0)
                    {
                        await Html.RenderPartialAsync("_Debt", Model.DebtAccounts.First());
                    }
                    @if (Model.TermAccounts.Count() > 0)
                    {
                        await Html.RenderPartialAsync("_Investment", Model.TermAccounts.First());
                    }
                </dl>
            </div>
            @if (Model.Business)
            {
                await Html.RenderPartialAsync("_Business", Model.CustomersToAccounts);
            }
        </div>
        <div class="col-sm-6">
            @if (Model.Type.Name == "Checking")
            {
                await Html.RenderPartialAsync("_Checking", new YAB.Models.WithdrawDepositViewModel() { AccountId = Model.Id});
            }
        </div>
    </div> <!-- end single row -->
</div>

<div>
    <a asp-action="Delete" asp-route-id="@Model.Id">Delete</a> |
    <a asp-action="Index">Back to My Accounts</a>
</div>
